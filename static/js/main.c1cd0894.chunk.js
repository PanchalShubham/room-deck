(this["webpackJsonproom-deck"]=this["webpackJsonproom-deck"]||[]).push([[0],{168:function(e,t,n){e.exports=n(332)},173:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},211:function(e,t){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},219:function(e,t){},221:function(e,t){},233:function(e,t){},235:function(e,t){},260:function(e,t){},262:function(e,t){},263:function(e,t){},269:function(e,t){},271:function(e,t){},289:function(e,t){},291:function(e,t){},303:function(e,t){},306:function(e,t){},332:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MAX_FILE_SIZE",(function(){return D})),n.d(a,"MAX_FILE_SIZE_STRING",(function(){return T})),n.d(a,"TEXT",(function(){return F})),n.d(a,"IMAGE",(function(){return Q})),n.d(a,"VIDEO",(function(){return x})),n.d(a,"AUDIO",(function(){return R})),n.d(a,"FILE",(function(){return L}));var c=n(0),o=n.n(c),r=n(155),i=n.n(r),l=n(14),s=n(9),u=(n(173),n(7)),m=n(4),d=n(34),f=n(36),E=n(35),p=n(17),v=(n(179),null),g=function(e){Object(f.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={toasts:[]},e.defaultTimeOut=e.props.timeOut||2e3,e.deleteToast=function(t){e.setState((function(e){var n=Object(l.a)(e.toasts),a=n.findIndex((function(e){return e.id===t}));if(-1!==a)return n.splice(a,1),{toasts:n}}))},e.deleteAllToasts=function(){return e.setState({toasts:[]})},e.addToast=function(t,n){var a=n.appearance,c=n.autoDismiss,o=n.timeOut,r=n.toastId,i=n.position,s=r||Object(p.v4)(),u=null;if("info"===a?u=m.n:"error"===a?u=m.b:"success"===a?u=m.c:"warning"===a&&(u=m.g),c){var d=o||e.defaultTimeOut;setTimeout(e.deleteToast,d,s)}return e.setState((function(e){var n=Object(l.a)(e.toasts);return n.push({appearance:a,body:t,icon:u,id:s,position:i}),{toasts:n}})),s},e.render=function(){for(var t=[],n=[],a=[],c=[],r=[],i=[],l=[],s=e.state.toasts,d=0;d<s.length;++d){var f=s[d],E=f.position||"top-right";"top-left"===E?t.push(f):"top-center"===E?n.push(f):"top-right"===E?a.push(f):"center"===E?c.push(f):"bottom-left"===E?r.push(f):"bottom-center"===E?i.push(f):"bottom-right"===E&&l.push(f)}var p=[{position:"top-left",items:t},{position:"top-center",items:n},{position:"top-right",items:a},{position:"center",items:c},{position:"bottom-left",items:r},{position:"bottom-center",items:i},{position:"bottom-right",items:l}];return o.a.createElement("div",{id:"toasted-notes"},p.map((function(t){return o.a.createElement("div",{className:"toasted-notes-container ".concat(t.position),key:t.position},t.items.map((function(t){return o.a.createElement("div",{className:"toast",key:t.id},t.appearance&&"none"!==t.appearance&&o.a.createElement("div",{className:"toast-icon toast-".concat(t.appearance)},o.a.createElement(u.a,{icon:t.icon})),o.a.createElement("div",{className:"toast-body"},t.body),t.appearance&&"none"!==t.appearance&&o.a.createElement("div",{className:"toast-close"},o.a.createElement("button",{onClick:function(){return e.deleteToast(t.id)}},o.a.createElement(u.a,{icon:m.r}))))})))})),e.props.children)},e}return n}(o.a.Component),b=function(e){Object(f.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).render=function(){return o.a.createElement(g,{ref:function(e){return v=e}},e.props.children)},e}return n}(o.a.Component),h=function(e,t){if(!v)throw new Error("<ToastedNotes /> component should be rendered for addToast");return v.addToast(e,t)},A=function(e){if(!v)throw new Error("<ToastedNotes /> component should be rendered for addToast");v.deleteToast(e)},I=o.a.createContext({});function j(e){var t=Object(c.useContext)(I),n=t.createOrJoinRoom,a=t.username,r=t.setUsername,i=t.roomId,l=t.setRoomId,d=t.restrictAccess,f=t.setRestrictAccess,E=Object(c.useState)(""),p=Object(s.a)(E,2),v=p[0],g=p[1],b=""===i?"Create":"Join",A=i;return o.a.createElement("div",{className:"homepageOuterContainer"},o.a.createElement("div",{className:"homepage"},o.a.createElement("div",{className:"brand"},o.a.createElement("h1",null,"ROOM DECK"),o.a.createElement("p",null,"Create an instant room and start chatting with friends, family or community. ",o.a.createElement("br",null),"A completely free service available 24x7 with no registrations!")),o.a.createElement("div",{className:"formDiv"},o.a.createElement("div",{className:"formHeading"},b," ROOM"),o.a.createElement("form",{autoComplete:"off",method:"POST",onSubmit:function(e){if(e.preventDefault(),""===a.trim())return h("Please provide a valid username",{appearance:"error"});n()}},o.a.createElement("input",{type:"text",name:"username",value:a,className:"input",placeholder:"Your Name",onChange:function(e){var t=e.target.value;r(t),""===t.trim()?g("Please provide a valid name!"):g("")}}),o.a.createElement("div",{className:"formErrorMessage"},v),o.a.createElement("input",{type:"text",name:"roomId",value:i,className:"input",placeholder:"Room Id",onChange:function(e){l(e.target.value),e.target.value&&f(!1)}}),o.a.createElement("div",{className:"checkbox-input"},o.a.createElement("input",{type:"checkbox",checked:d,disabled:A,onChange:function(){return f(!d)}}),o.a.createElement("span",{className:A?"disabled":""},"Restrict access (requires permission to join)")),o.a.createElement("input",{type:"submit",className:"submitButton",value:b}))),o.a.createElement("div",{className:"footer"},"Made with ",o.a.createElement("span",null,o.a.createElement(u.a,{icon:m.l}))," by ",o.a.createElement("a",{href:"http://shubhampanchal.herokuapp.com"},"Shubham Panchal"))))}var O=n(86),C=n.n(O),y=(n(180),n(181),null),N=function(e){Object(f.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={item:null},e.showModal=function(t){return e.setState({item:t})},e.closeModal=function(){return e.setState({item:null})},e.render=function(){return o.a.createElement("div",{className:"modal"},e.state.item&&o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"closeButtonContainer"},o.a.createElement("button",{onClick:S},o.a.createElement(u.a,{icon:m.r}))),o.a.createElement("div",{className:"modal-body"},e.state.item)))},e}return n}(o.a.Component),k=function(e){Object(f.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).render=function(){return o.a.createElement(N,{ref:function(e){return y=e}})},e}return n}(o.a.Component),S=function(){if(!y)throw new Error("<Modal /> component should be rendered for addToast");return y.closeModal()},B=n(57),w=(n(91),n(182),n(56)),M=n.n(w),D=1e7,T="10mb",F="text",Q="image",x="video",R="audio",L="file";function U(e){var t=e.type,n=e.content,a=e.file.name,c=null;return t===L?c=o.a.createElement("a",{href:n,className:"fileAttachment",download:a},o.a.createElement("img",{src:M.a,alt:""})," ",a):t===Q?c=o.a.createElement("img",{src:n,alt:""}):t===R?c=o.a.createElement(B.a,{controls:!0,src:n}):t===x&&(c=o.a.createElement("video",{controls:!0,src:n})),o.a.createElement("div",{className:"attachment"},c)}function P(e){var t=Object(c.useContext)(I),n=t.sendMessage,a=t.sendFileInChunks,r=t.MESSAGE_TYPE,i=t.setLoadingMessage,l=Object(c.useState)(""),d=Object(s.a)(l,2),f=d[0],E=d[1],p=Object(c.useState)(!1),v=Object(s.a)(p,2),g=v[0],b=v[1],A=Object(c.useState)(!1),j=Object(s.a)(A,2),N=j[0],k=j[1],B=function(){document.getElementById("chat-input").focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()},w=function(){var e=String(f).trim();""!==e&&(b(!1),E(""),n({content:e,type:r.TEXT}))},M=function(e){var t=document.createElement("input"),n=null;e===r.AUDIO?n="audio/*":e===r.VIDEO?n="video/*":e===r.IMAGE&&(n="image/*"),t.setAttribute("type","file"),n&&t.setAttribute("accept",n),t.addEventListener("change",(function(){if(t.files&&1===t.files.length){var n=t.files[0],c=n.size;if(k(!1),c>r.MAX_FILE_SIZE)return h("Max. file size size is ".concat(r.MAX_FILE_SIZE_STRING),{appearance:"error"});var l=new FileReader;l.onload=function(t){var c=t.target.result;!function(e){if(!y)throw new Error("<Modal /> component should be rendered for addToast");y.showModal(e)}(function(e,t,n){return o.a.createElement("div",{className:"attachment-preview-container"},o.a.createElement(U,{type:e,content:t,file:n}),o.a.createElement("div",{className:"caption"},o.a.createElement("input",{type:"text",id:"caption",autoComplete:"off",placeholder:"Type a caption...",onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=document.getElementById("sendAttachment");t&&t.click()}}}),o.a.createElement("button",{id:"sendAttachment",onClick:function(){S();var c=document.getElementById("caption"),o=null;c&&(o=c.value),a(e,t,n.name,o)}},o.a.createElement(u.a,{icon:m.o})," Send")))}(e,c,n));var r=document.getElementById("caption");r&&r.focus(),i("")},l.onprogress=function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10);i("Please wait! I'm uploading your file (".concat(t,"%)"))}},l.readAsDataURL(n)}})),t.click()};return o.a.createElement("div",{className:"chat-input"},o.a.createElement("div",{className:"fields"},o.a.createElement("button",{onClick:function(){k(!1),b(!g)}},o.a.createElement(u.a,{icon:g?m.r:m.q})),o.a.createElement("div",null,N&&o.a.createElement("div",{className:"attachmentButtons"},o.a.createElement("button",{className:"fileButton",onClick:function(){return M(r.FILE)}},o.a.createElement(u.a,{icon:m.h})),o.a.createElement("button",{className:"videoButton",onClick:function(){return M(r.VIDEO)}},o.a.createElement(u.a,{icon:m.k})),o.a.createElement("button",{className:"audioButton",onClick:function(){return M(r.AUDIO)}},o.a.createElement(u.a,{icon:m.i})),o.a.createElement("button",{className:"imageButton",onClick:function(){return M(r.IMAGE)}},o.a.createElement(u.a,{icon:m.j}))),o.a.createElement("button",{onClick:function(){b(!1),k(!N)}},o.a.createElement(u.a,{icon:N?m.r:m.p}))),o.a.createElement("div",{className:"chatInputContainer"},o.a.createElement("div",{contentEditable:!0,id:"chat-input",dangerouslySetInnerHTML:{__html:f},onInput:function(e){e.preventDefault(),E(e.target.innerText),B()},onPaste:function(e){return e.preventDefault()},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),w())}})),o.a.createElement("button",{onClick:w},o.a.createElement(u.a,{icon:m.o}))),g&&o.a.createElement("div",{className:"emoji-container"},o.a.createElement(C.a,{onEmojiClick:function(e,t){E(f+t.emoji),B()},skinTone:O.SKIN_TONE_LIGHT,disableAutoFocus:!0,native:!0})))}n(183);function H(e){var t=Object(c.useContext)(I),n=t.room,a=t.userId,r=t.exitFromRoom,i=t.toastList,s=t.setToastList,d=t.deleteAllMessages,f=t.setSelfDestructingTime,E=[{key:"Self destruct timer",value:0,disabled:!0},{key:"off",value:0},{key:"5 seconds",value:5},{key:"10 seconds",value:10},{key:"30 seconds",value:30},{key:"1 minute",value:60},{key:"2 minutes",value:120},{key:"5 minutes",value:300},{key:"10 minutes",value:600},{key:"30 minutes",value:1800}];return o.a.createElement("div",{className:"infoBarContainer"},o.a.createElement("div",{className:"roomNameContainer"},o.a.createElement("button",{onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(n.roomId).then((function(){h("RoomId copied!",{appearance:"info",autoDismiss:!0,timeOut:2e3})}))}},o.a.createElement("strong",null,"Room Id: "),n.roomId)),o.a.createElement("div",{className:"infoBarOperations"},o.a.createElement("button",{onClick:function(){var e=a===n.adminId,t=Object(p.v4)(),c=o.a.createElement("div",{className:"meeting-details"},o.a.createElement("div",{className:"close-details"},o.a.createElement("button",{onClick:function(){return A(t)}},o.a.createElement(u.a,{icon:m.r}))),o.a.createElement("div",{className:"header"},o.a.createElement("strong",null,"RoomId: ")," ",n.roomId),o.a.createElement("div",{className:"meeting-configuration"},o.a.createElement("button",{onClick:function(){d(),A(t)}},o.a.createElement(u.a,{icon:m.a})," Clear messages"),e&&o.a.createElement("select",{value:n.selfDestructTime,onChange:function(e){f(e.target.value),A(t)},id:"selfDestructingDropdown"},E.map((function(e){return o.a.createElement("option",{key:e.key,value:e.value,disabled:e.disabled},e.key)}))),!e&&o.a.createElement("span",{className:"info"},o.a.createElement(u.a,{icon:m.m})," Self-destructing-timer is set to ",n.selfDestructTime>0?n.selfDestructTime:"off")),o.a.createElement("div",{className:"members"},n.people.map((function(e){return o.a.createElement("div",{key:e.userId},o.a.createElement(u.a,{icon:m.s}),e.username,e.userId===a&&o.a.createElement("span",{className:"you-badge"},"You"),e.userId===n.adminId&&o.a.createElement("span",{className:"admin-badge"},"Admin"),o.a.createElement("br",null),"(",e.userId,")")}))));h(c,{appearance:"none",toastId:t,position:"center"}),s([].concat(Object(l.a)(i),[t]))}},o.a.createElement(u.a,{icon:m.f})),o.a.createElement("button",{onClick:function(){var e=a===n.adminId,t=Object(p.v4)(),c=o.a.createElement("div",{className:"confirmation-dialog"},o.a.createElement("div",null,"Are you sure you want to exit?"),e&&o.a.createElement("div",null,"You are the owner of this room if you leave then everybody will be disconnected!"),o.a.createElement("div",{className:"confirmation-button"},o.a.createElement("button",{className:"danger",onClick:function(){A(t),r()}},o.a.createElement(u.a,{icon:m.c}),"Exit"),o.a.createElement("button",{className:"light",onClick:function(){return A(t)}},o.a.createElement(u.a,{icon:m.r}),"Cancel")));h(c,{appearance:"none",position:"center",toastId:t}),s([].concat(Object(l.a)(i),[t]))}},o.a.createElement(u.a,{icon:m.r}))))}n(184),n(185);function J(e){var t=Object(c.useContext)(I),n=t.setTaggedMessage,a=t.deleteMessageById,r=e.message,i=r.admin,l=r.amIAuthor,d=r.taggedMessage,f=Object(c.useState)(null),E=Object(s.a)(f,2),p=E[0],v=E[1],g=Object(c.useState)(null),b=Object(s.a)(g,2),h=b[0],A=b[1],j=Object(c.useState)(!1),O=Object(s.a)(j,2),C=O[0],y=O[1];if(i)return o.a.createElement("div",{className:"message-container",id:r.id},o.a.createElement("div",{className:"adminMessageContainer"},o.a.createElement("div",{className:"adminMessage"},r.content)));var N=["message-container"];return N.push(l?"self-message":"other-message"),o.a.createElement("div",{onClick:function(){return n(r)},onTouchStart:function(e){v(e.touches[0].clientX),A(e.touches[0].clientY)},onTouchMove:function(e){var t=e.touches[0].clientX,n=e.touches[0].clientY,a=p-t,c=h-n;Math.abs(a),Math.abs(c),v(null),A(null)},id:r.id,className:N.join(" ")},o.a.createElement("div",{className:"message"},o.a.createElement("div",{className:"arrow-container ".concat(l?"right-align":"left-align")},l?o.a.createElement("div",{className:"arrow right-arrow"}):o.a.createElement("div",{className:"arrow left-arrow"})),o.a.createElement("div",{className:"message-body ".concat(l?"self":"other")},o.a.createElement("div",{className:"author"},o.a.createElement("div",null,r.username,o.a.createElement("span",null,r.timeStamp)),o.a.createElement("div",{className:"messageOperation"},o.a.createElement("button",{onClick:function(e){e.stopPropagation(),y(!C)}},o.a.createElement(u.a,{icon:C?m.e:m.d})),C&&o.a.createElement("div",{className:"messageMenu",onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{onClick:function(){return n(r)}},"Reply"),o.a.createElement("div",{onClick:function(){return a(r.id)}},"Delete")))),d&&o.a.createElement("div",{className:"taggedMessage",onClick:function(e){e.stopPropagation();var t=document.getElementById(d.id);t&&t.scrollIntoView()}},o.a.createElement("div",{className:"messageBody"},o.a.createElement("div",{className:"author"},d.username),o.a.createElement("div",null,d.caption||d.content))),function(e){var t=e.type,n=e.content,a=e.filename,c=e.caption;return t===F?n:t===Q?o.a.createElement("div",null,o.a.createElement("img",{src:n,alt:""}),o.a.createElement("div",null,c)):t===x?o.a.createElement("div",null,o.a.createElement("video",{controls:!0,src:n}),o.a.createElement("div",null,c)):t===R?o.a.createElement("div",null,o.a.createElement(B.a,{controls:!0,src:n}),o.a.createElement("div",null,c)):t===L?o.a.createElement("div",null,o.a.createElement("a",{href:n,className:"fileAttachment",download:a},o.a.createElement("img",{src:M.a,alt:""})," ",a),o.a.createElement("div",null,c)):null}(r))))}var G=function(e){var t=Object(c.useRef)();Object(c.useEffect)((function(){if(t.current){var e=document.getElementById("messagesContainer");if(!e)return;e.scrollTop=e.scrollHeight}else t.current=!0}));var n=Object(c.useContext)(I),a=n.messageList,r=n.taggedMessage,i=n.setTaggedMessage;return o.a.createElement("div",{className:"roomOuterContainer"},o.a.createElement("div",{className:"roomInnerContainer"},o.a.createElement(H,null),o.a.createElement("div",{className:"messagesOuterContainer",id:"messagesContainer"},a.map((function(e){return o.a.createElement(J,{message:e,key:e.id})}))),r&&o.a.createElement("div",{className:"taggedMessage",onClick:function(){var e=document.getElementById(r.id);e&&e.scrollIntoView()}},o.a.createElement("div",{className:"messageBody"},o.a.createElement("div",{className:"author"},r.username),o.a.createElement("div",null,r.caption||r.content)),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return i(null)}},o.a.createElement(u.a,{icon:m.r})))),o.a.createElement(P,null)))},K=n(167),X=n.n(K);n(214);function Y(e){return o.a.createElement("div",Object.assign({id:"overlay"},e),o.a.createElement("div",{className:"background"}),o.a.createElement("div",{className:"content"},e.children))}n(215);function z(e){return o.a.createElement("div",{id:"rectangular-loader"},o.a.createElement("div",{className:"lds-grid"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))}n(216);var W=n(58),q=n.n(W),V=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),r=n[0],i=n[1],d=Object(c.useState)(null),f=Object(s.a)(d,2),E=f[0],v=f[1],g=Object(c.useState)("shubham-panchal"),O=Object(s.a)(g,2),C=O[0],y=O[1],N=Object(c.useState)(""),S=Object(s.a)(N,2),B=S[0],w=S[1],M=Object(c.useState)(""),D=Object(s.a)(M,2),T=D[0],F=D[1],Q=Object(c.useState)(!1),x=Object(s.a)(Q,2),R=x[0],L=x[1],U=Object(c.useState)([]),P=Object(s.a)(U,2),H=P[0],J=P[1],K=Object(c.useState)([]),W=Object(s.a)(K,2),V=W[0],Z=W[1],_=Object(c.useState)(""),$=Object(s.a)(_,2),ee=$[0],te=$[1],ne=Object(c.useState)(0),ae=Object(s.a)(ne,2),ce=ae[0],oe=ae[1],re=Object(c.useState)(null),ie=Object(s.a)(re,2),le=ie[0],se=ie[1],ue=function(e){h(e,{appearance:"error"}),te("")},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h(e,{appearance:"info",autoDismiss:t}),te("")},de=Object(c.useCallback)((function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v(e),e)w(e.roomId);else{r.disconnect(),w(""),F(null),J([]);for(var c=0;c<V.length;++c)A(V[c]);Z([]),oe(0)}t&&ue(t),n&&me(n,a),te("")}),[r,V]);Object(c.useEffect)((function(){fetch("https://api.ipify.org?format=json").then((function(e){return e.json()})).then((function(e){var t=e.ip,n=X()("https://room-deck-server.herokuapp.com",{autoConnect:!1,forceNew:!0,reconnection:!0,reconnectionAttempts:5,query:{clientIp:t}});i(n)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){r&&(r.off(),r.on("connect",(function(){if(oe(0),E)return r.emit("re-join",B,T,C);var e=Object(p.v4)();F(e),r.emit("create-or-join",B,e,C,R)})),r.on("disconnect",(function(){te("Hold on! I'm trying to you back.")})),r.on("connect_error",(function(){oe(ce+1),6===ce&&(ue("Failed to connect"),te(""))})),r.on("ip-error",ue),r.on("found-running-room-session",ue),r.on("create-room-success",de),r.on("no-such-room-error",(function(){return de(null,"Failed to find a room with roomId ".concat(B))})),r.on("joined-via-another-window",(function(){return de(null,null,"You have joined from another window!")})),r.on("join-room-success",de),r.on("wait-for-approval",(function(){return te("You will be able to join with id ".concat(T," when admin lets you in!"))})),r.on("request-to-join-rejected",(function(){return de(null,"Your request to join the session is rejected by admin")})),r.on("let-client-in",(function(){return r.emit("let-client-in",B,T,C)})),r.on("join-room-request",(function(e,t,n){var a=Object(p.v4)(),c=o.a.createElement("div",{className:"pending-request"},o.a.createElement("span",null,n)," wants to join this session",o.a.createElement("br",null),"(",o.a.createElement("span",null,t),")",o.a.createElement("div",{className:"request-operations"},o.a.createElement("button",{className:"success-button",onClick:function(){A(a),r.emit("approve-request",B,e)}},o.a.createElement(u.a,{icon:m.c})," Accept "),o.a.createElement("button",{className:"error-button",onClick:function(){A(a),r.emit("reject-request",B,e)}},o.a.createElement(u.a,{icon:m.r})," Reject ")));h(c,{appearance:"none",toastId:a,position:"center"}),Z([].concat(Object(l.a)(V),[a]))})),r.on("terminate-room",(function(e){r.emit("exit-from-room",B,C),de(null,null,e)})),r.on("room-time-out",(function(e){r.emit("exit-from-room",B,C),de(null,null,e)})),r.on("joined-room",(function(e,t,n){de(e);var a=Object(l.a)(H);a.push({id:Object(p.v4)(),content:"".concat(t," has joined"),timeStamp:n,admin:!0}),J(a)})),r.on("left-room",(function(e,t,n){de(e);var a=Object(l.a)(H);a.push({id:Object(p.v4)(),content:"".concat(t," has left"),timeStamp:n,admin:!0}),J(a)})),r.on("message-all",(function(e,t){var n=null;try{n=function(e,t){var n=q.a.AES.decrypt(t,e).toString(q.a.enc.Utf8);return JSON.parse(n)}(E.key,e)}catch(a){}n&&(n.timeStamp=t,n.amIAuthor=T===n.userId,J([].concat(Object(l.a)(H),[n])),E.selfDestructTime>0&&setTimeout((function(){J((function(e){var t=Object(l.a)(e),a=t.findIndex((function(e){return e.id===n.id}));return-1!==a&&t.splice(a,1),t}))}),1e3*E.selfDestructTime))})),r.on("delete-message",(function(e){var t=H.findIndex((function(t){return t.id===e}));if(-1!==t){var n=Object(l.a)(H);n.splice(t,1),J(n)}})),r.on("self-destruct-time",(function(e){de(e);var t=e.selfDestructTime,n="off";t>0&&(n=t>60?Math.round(t/60)+" minutes":t+" seconds");var a=Object(l.a)(H);a.push({id:Object(p.v4)(),content:"Self-destruct-timer set to ".concat(n),admin:!0}),J(a)})))}),[r,E,B,T,C,V,R,H,de,ce]);var fe=function(){if(!r)return me("Please wait! I'm fetching your IP",!0);r.disconnect(),r.connect(),te("Please wait! I'm processing your request...")},Ee=function(e){e.id=Object(p.v4)(),e.username=C,e.userId=T,le&&(e.taggedMessage=le);var t,n,a=null;try{t=E.key,n=e,a=q.a.AES.encrypt(JSON.stringify(n),t).toString()}catch(c){}a?r.emit("message-all",B,a):ue("Failed to encrypt your message!"),se(null)},pe=o.a.createElement(j,{createOrJoinRoom:fe});return E&&(pe=o.a.createElement(G,{room:E})),o.a.createElement("div",{className:"app"},o.a.createElement(b,null,o.a.createElement(I.Provider,{value:{createOrJoinRoom:fe,username:C,setUsername:y,roomId:B,setRoomId:w,restrictAccess:R,setRestrictAccess:L,room:E,sendMessage:Ee,MESSAGE_TYPE:a,messageList:H,setMessageList:J,toastList:V,setToastList:Z,exitFromRoom:function(){r.emit("exit-from-room",B,C),de(null)},userId:T,setLoadingMessage:te,sendFileInChunks:function(e,t,n,a){return Ee({type:e,content:t,filename:n,caption:a})},taggedMessage:le,setTaggedMessage:se,deleteMessageById:function(e){return r.emit("delete-message",B,e)},deleteAllMessages:function(){return J([])},setSelfDestructingTime:function(e){return r.emit("self-destruct-time",B,e)}}},pe),ee&&o.a.createElement(Y,null,o.a.createElement(z,null),o.a.createElement("div",{className:"loadingMessage"},ee)),o.a.createElement(k,null)))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(V,null)),document.getElementById("root"))},56:function(e,t){e.exports="data:image/png;base64,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"}},[[168,1,2]]]);
//# sourceMappingURL=main.c1cd0894.chunk.js.map